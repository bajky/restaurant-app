<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet author="David" id="1440282871879-5">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_COMMENTS" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-6">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_FOOD" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-7">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_GROUPS" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-8">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_MENU" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-9">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_RESTAURANT" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-10">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_USERS" startValue="1"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-11">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="SEQ_VOTES" startValue="1"/>
    </changeSet>

    <changeSet author="David" id="1440282871879-14">
        <createTable tableName="COMMENTS">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDING_TIME" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="IS_VISIBLE" type="NUMBER(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="TEXT" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="RESTAURANT_FK" type="NUMBER(19, 0)"/>
            <column name="USER_FK" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-15">
        <createTable tableName="FOOD">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="VARCHAR2(1000 CHAR)"/>
            <column name="PRICE" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="TITTLE" type="VARCHAR2(20 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="TYPE" type="VARCHAR2(10 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="MENU_FK" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-16">
        <createTable tableName="GROUPS">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIME" type="TIMESTAMP(6)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATOR" type="VARCHAR2(30 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="VARCHAR2(1000 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="NAME" type="VARCHAR2(20 CHAR)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-17">
        <createTable tableName="MENU">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DAY" type="NUMBER(5, 0)"/>
            <column name="PRICE" type="NUMBER(10, 0)"/>
            <column name="RESTAURANT_FK" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-18">
        <createTable tableName="RESTAURANT">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="TYPE" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDRESS" type="VARCHAR2(50 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="DESCRIPTION" type="VARCHAR2(255 CHAR)"/>
            <column name="EMAIL" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="PHONE_NUMBER" type="VARCHAR2(15 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="TITTLE" type="VARCHAR2(35 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="WEB" type="VARCHAR2(30 CHAR)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-19">
        <createTable tableName="USERS">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ACC_NAME" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDRESS" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="EMAIL" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="FIRST_NAME" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_ACTIVE" type="NUMBER(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="IS_BANNED" type="NUMBER(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="LAST_NAME" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="PASSWORD" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="PHONE_NUMBER" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-20">
        <createTable tableName="USER_GROP">
            <column name="GROUP_FK" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="USER_FK" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-21">
        <createTable tableName="VOTES">
            <column name="ID" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ADDING_TIME" type="TIMESTAMP(6)">
                <constraints nullable="false"/>
            </column>
            <column name="TIME_FROM" type="TIMESTAMP(6)">
                <constraints nullable="false"/>
            </column>
            <column name="TIME_TO" type="TIMESTAMP(6)">
                <constraints nullable="false"/>
            </column>
            <column name="RESTAURANT_FK" type="NUMBER(19, 0)"/>
            <column name="USER_FK" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="David" id="1440282871879-22">
        <createIndex indexName="SYS_C0010333" tableName="COMMENTS" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010333" forIndexName="SYS_C0010333" tableName="COMMENTS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-23">
        <createIndex indexName="SYS_C0010338" tableName="FOOD" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010338" forIndexName="SYS_C0010338" tableName="FOOD"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-24">
        <createIndex indexName="SYS_C0010344" tableName="GROUPS" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010344" forIndexName="SYS_C0010344" tableName="GROUPS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-25">
        <createIndex indexName="SYS_C0010346" tableName="MENU" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010346" forIndexName="SYS_C0010346" tableName="MENU"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-26">
        <createIndex indexName="SYS_C0010354" tableName="RESTAURANT" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010354" forIndexName="SYS_C0010354" tableName="RESTAURANT"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-27">
        <createIndex indexName="SYS_C0010357" tableName="USER_GROP" unique="true">
            <column name="GROUP_FK"/>
            <column name="USER_FK"/>
        </createIndex>
        <addPrimaryKey columnNames="GROUP_FK, USER_FK" constraintName="SYS_C0010357" forIndexName="SYS_C0010357" tableName="USER_GROP"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-28">
        <createIndex indexName="SYS_C0010368" tableName="USERS" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010368" forIndexName="SYS_C0010368" tableName="USERS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-29">
        <createIndex indexName="SYS_C0010373" tableName="VOTES" unique="true">
            <column name="ID"/>
        </createIndex>
        <addPrimaryKey columnNames="ID" constraintName="SYS_C0010373" forIndexName="SYS_C0010373" tableName="VOTES"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-30">
        <addForeignKeyConstraint baseColumnNames="USER_FK" baseTableName="COMMENTS" constraintName="FK_3WVH8UPCD4KJSNC7C77VMSC48" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="USERS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-31">
        <addForeignKeyConstraint baseColumnNames="GROUP_FK" baseTableName="USER_GROP" constraintName="FK_5QJ7ANA7JAGT9ATBNG3PL9LBK" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="GROUPS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-32">
        <addForeignKeyConstraint baseColumnNames="RESTAURANT_FK" baseTableName="VOTES" constraintName="FK_5WJSKJD5XSCUW9XX2O7LIKBCE" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="RESTAURANT"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-33">
        <addForeignKeyConstraint baseColumnNames="ID" baseTableName="VOTES" constraintName="FK_6IELUIOW7LC26K9P5W90T8RW" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="VOTES"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-34">
        <addForeignKeyConstraint baseColumnNames="RESTAURANT_FK" baseTableName="MENU" constraintName="FK_9V9HUELP3K8DO0KAJC2FFU0A" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="RESTAURANT"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-35">
        <addForeignKeyConstraint baseColumnNames="MENU_FK" baseTableName="FOOD" constraintName="FK_A87T1J3CC088V4FOGI28H5ADI" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="MENU"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-36">
        <addForeignKeyConstraint baseColumnNames="USER_FK" baseTableName="VOTES" constraintName="FK_F0MLNO2C8CF0CVTKSY3MHKHGF" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="USERS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-37">
        <addForeignKeyConstraint baseColumnNames="USER_FK" baseTableName="USER_GROP" constraintName="FK_G0FW9P8L2B52INXEQLPE8STK4" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="USERS"/>
    </changeSet>
    <changeSet author="David" id="1440282871879-38">
        <addForeignKeyConstraint baseColumnNames="RESTAURANT_FK" baseTableName="COMMENTS" constraintName="FK_MR9LGDRSYJEFLP2YQD9JT0JAS" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="ID" referencedTableName="RESTAURANT"/>
    </changeSet>

</databaseChangeLog>
